#include <iostream>
#include <thread>
#include <mutex>
std::mutex mtx;
int counter = 0;
void increment(int id) {
for (int i = 0; i < 5; i++) {
mtx.lock();
counter++;
std::cout << "Thread " << id << " incremented counter to " << counter << "\n";
mtx.unlock();
std::this_thread::sleep_for(std::chrono::milliseconds(300));
}
}
int main() {
std::thread t1(increment, 1);
std::thread t2(increment, 2);
t1.join();
t2.join();
std::cout << "Final counter = " << counter << "\n";
return 0;
}

Practice Exercises
Exercise 1: Create 2 threads using Win32 API that print different messages. Solution:
#include <windows.h>
#include <iostream>
DWORD WINAPI threadFunc(LPVOID lpParam) {
const char* msg = (const char*)lpParam;
for (int i = 0; i < 5; i++) {
std::cout << msg << " running...\n";
Sleep(400);
}
return 0;
}
int main() {
HANDLE t1 = CreateThread(NULL, 0, threadFunc, (LPVOID)"Thread A", 0, NULL);
HANDLE t2 = CreateThread(NULL, 0, threadFunc, (LPVOID)"Thread B", 0, NULL);
WaitForSingleObject(t1, INFINITE);
